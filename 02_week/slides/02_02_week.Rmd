---
title: "Coding Assignment: Mapping Data to Visual Encodings"
subtitle: "Reproducible workflow + plots + short write-up"
author: "Jared Edgerton"
output:
  xaringan::moon_reader:
    css: [default, metropolis, metropolis-fonts, plsc498.css]
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      slideNumberFormat: ""
---

# What You Are Building

You will complete a small, end-to-end workflow:

- Set up a reproducible project structure
- Load a dataset
- Inspect variables and types
- Produce plots that illustrate different encodings
- Save plots to files
- Generate a short write-up template
- Commit + push your work

---

# Rules for This Assignment

- Run code **top-to-bottom** inside an R Project
- No user-defined functions
- No copy/paste screenshots
- Save outputs to:
  - `figures/`
  - `outputs/`

---

# 0) Setup: packages + reproducibility

```{r, message=FALSE, warning=FALSE}
# Install packages if needed (run once; then comment out)
# install.packages("ggplot2")
# install.packages("dplyr")

library(ggplot2)
library(dplyr)

set.seed(123)
```

---

# 1) Create project folders

```{r, message=FALSE, warning=FALSE}
dir.create("data_raw", showWarnings = FALSE)
dir.create("data_processed", showWarnings = FALSE)
dir.create("scripts", showWarnings = FALSE)
dir.create("outputs", showWarnings = FALSE)
dir.create("figures", showWarnings = FALSE)
```

---

# 2) Load a dataset (built-in)

We use a built-in dataset so nothing can break.

```{r, message=FALSE, warning=FALSE}
dat <- ggplot2::mpg
```

---

# 3) Quick inspection

Keep this short and purposeful:
- What columns exist?
- What types/ranges matter for the plot?

```{r, fig.width=4, fig.height=2.8, message=FALSE, warning=FALSE}
print(head(dat))
print(summary(dat[, c("displ", "hwy", "class")]))
```

---

# 4A) Plot A: baseline scatter (position encodes two quantitative variables)

```{r, fig.width=4, fig.height=2.8, message=FALSE, warning=FALSE}
p1 <- ggplot(dat, aes(x = displ, y = hwy)) +
  geom_point() +
  theme_gray()
print(p1)
ggsave(
  filename = "figures/plot_A_baseline_scatter.png",
  plot = p1,
  width = 6, height = 4, dpi = 300
)
```

---

# 4B) Plot B: map a categorical variable to color

```{r, fig.width=4, fig.height=2.8, message=FALSE, warning=FALSE}
p2 <- ggplot(dat, aes(x = displ, y = hwy, color = class)) +
  geom_point() +
  theme_gray()
print(p2)
ggsave(
  filename = "figures/plot_B_color_by_class.png",
  plot = p2,
  width = 7, height = 4.5, dpi = 300
)
```

---

# 4C) Plot C: styling vs mapping (constant color is NOT encoding data)

```{r, fig.width=4, fig.height=2.8, message=FALSE, warning=FALSE}
p3 <- ggplot(dat, aes(x = displ, y = hwy)) +
  geom_point(color = "blue") +
  theme_gray()
print(p3)
ggsave(
  filename = "figures/plot_C_styling_constant_color.png",
  plot = p3,
  width = 6, height = 4, dpi = 300
)
```

---

class: small-code

# 5) Create the write-up template

Students will answer prompts in a short markdown file.

```{r, fig.width=4, fig.height=2.8, message=FALSE, warning=FALSE}
writeup_lines <- c(
  "Create an R Project for the class in your synced drive.",
  "",
   "# Find the new data set for the in-class assignment.",
  "- use readRDS() to bring in the data frame.",
  "",
  "# Short Write-Up: Mapping Data to Visual Encodings",
  "",
  "For each plot:",
  "",
  "1) What question is this plot helping answer?",
  "2) What variables are mapped to what visual properties?",
  "3) What comparison is easiest to make? What is harder?",
  "4) Identify one design choice that is a *default* and explain whether it helps or hurts.",
  "",
  "## Optional stretch"
)

writeLines(writeup_lines, con = "outputs/writeup_mapping_encodings.md")
```

---

# Submission checklist

You should have:

- `figures/plot_1_baseline_scatter.png`
- `figures/plot_2_color_and_or_size.png`
- `figures/plot_3_color_and_or_size.png`
- `outputs/writeup_mapping_encodings.md`

---

# Git workflow reminder (Terminal, not Console)

Run these in the **Terminal tab**:

```bash
git status
git add .
git commit -m "Mapping encodings assignment"
git push
```

---

# What success looks like

Success means:
- Your code runs top-to-bottom
- The PNGs are saved in `figures/`
- The write-up file exists in `outputs/`
- Your repo has at least one commit pushed to GitHub
